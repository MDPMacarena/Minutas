<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outlock Base</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />


</head>
<body>
    <header>
        <div id="titulo">
            <button class="menu">
               <img id="imgMenu" src="588a64e0d06f6719692a2d10.png" alt="" srcset="">
            </button>
            <img src="logotec (weld).png">
            <div> <h1>MINUTAS</h1>
            <p>Luis Carlos Longares Vidal</p>
            </div>
        </div>
        <div id="seccion">
            <input type="search"  placeholder="">
            <i id="buscar" class="material-icons">search</i>
            <i id="crearMinutaBtn" class="material-icons" >note_add</i>

        </div>
 
       
 
       
    </header>
    <div class="content">
        <aside class="sidebar">
            <a id="apartado-minutas" href="index.html">Minutas</a>
            <a id="apartado-empleados" href="Empleados.html">Empleados</a>
            <a id="apartado-departamentos" href="departamento.html">Departamentos</a>
            <a id="apartado-configuracion" href="configuracion.html">Configuracion</a>
            <a id="apartado-perfil" href="perfil.html">Perfil</a>
 
     
        </aside>
        <main>
        <!-- <input type="button"  class="float-btn hover" value="Crear minuta">-->
        <div class="minutas-list">
            <div class="filtros">
                <div>
                    <button id="minutas-pendientes">Pendientes</button>
                    <button id="minutas-firmadas">Firmadas</button>
                    <button id="minutas-borradores">Borradores</button>

                </div>


                <button id="btnfiltros">Filter</button>


            </div>
            <div class="filtrar">
                <form>

                    <label>Departamento:</label>
                    <select>
                        <option>Sistemas</option>
                        <option>Vinculación</option>
                        <option>Planeación</option>
                        <option>Administración</option>
                        <option>Industrial</option>
                        <option>Coordinación</option>
                    </select>
                    <label>Empleados:</label>
                    <select>
                        <option>Oscar</option>
                        <option>Adriana</option>
                        <option>Ernestina</option>
                        <option>Hector</option>
                    </select>
                    <label>Desde:</label>
                    <input type="date">
                    <label>Hasta:</label>
                    <input type="date">
                </form>
            </div>
            <div class="minutas">


                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>

                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>

                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>

                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
                <div class="minuta">
                    <h3>DDSC-0231</h3>
                    <div>
                        <p> Por medio edlPor medio edlPor medio edl...</p>
                        <a><i class="material-icons">draw</i></a>
                        <a><i class="material-icons">delete</i></a>
                        <a><i class="material-icons">edit</i></a>
                    </div>
                </div>
            </div>
        </div>

        
    </main>
   
</div>
    <script>
    const menu = document.querySelector('.menu');
    const sidebar = document.querySelector('.sidebar');
    const header =document.querySelector("header");
    // modales
    const modCrearMin = document.querySelector("#modalCrearMinuta");

    document.querySelector("#crearMinutaBtn").addEventListener("click", function () {
        console.log("ss"); 
        modCrearMin.classList.toggle("active");
    });

    modCrearMin.addEventListener("click", function (e) {
        if (e.target.tagName === "INPUT" && (e.target.value === "Cancelar" || e.target.value === "Confirmar")) {
            modCrearMin.classList.remove("active");
        }
    });


    // abrir menu de IA
    let ia = document.querySelector("#modalIAMinuta");
    let buttons = document.querySelectorAll("#modalIAMinuta .buttons");

    document.querySelector("#ia").addEventListener("click",function(){
        ia.style.display = "block";
    });

    ia.addEventListener("click", function(e) {
        if (e.target.tagName === "INPUT" && e.target.type === "button") {
            ia.style.display = "none";
        }
    });

    const buscar = document.querySelector("#seccion input[type=search]");

document.querySelector("#buscar").addEventListener("click",function (){
 buscar.click();
 buscar.focus();
 
 console.log("sdfgh");
 header.classList.toggle("buscar");
})

  
    //Sidebar
    menu.addEventListener('click', () => {
        sidebar.classList.toggle('active');
    });


    const agregar = document.querySelector("#agregar");
    sidebar.addEventListener("click", function(e){
        if(e.target.tagName == "I"){
            agregar.style.visibility="visible";
        }

    });

    //Filtros
    let lasActiveCategory = null;
    const categorias=document.querySelector('.filtros div');
    categorias.addEventListener('click',(e)=>{
        if(lasActiveCategory){
            lasActiveCategory.classList.remove('active');
        }
        lasActiveCategory=e.target;
        e.target.classList.toggle('active');
    });

    //CambioEnMovilDeminuta
    const Lista=document.querySelector('.minutas-list');
    const minutasContent=document.querySelector('.minuta-content');
    const minutas=document.querySelector('.minutas');

    minutas.addEventListener('click',(e)=>{
        if(!e.target.classList.contains('filtros') && !e.target.parentElement.parentElement.classList.contains('filtros')  && !e.target.parentElement.classList.contains('filtros')){
           
            minutasContent.classList.toggle('active');
            console.log(e.target.parentElement.classList.contains('filtros'));
            Lista.classList.toggle('inactive');
        }
    });


   

    history.pushState(null, "", location.href);

    window.addEventListener("popstate", function () {
        Lista.classList.toggle('inactive');
    console.log("Intento de salir con botón de retroceso");
    history.pushState(null, "", location.href); // Reagrega el estado para evitar la salida
    });



    document.addEventListener("click", function (event) {
  //      if (!minutasContent.contains(event.target) && !minutas.contains(event.target)) {
    //        minutasContent.classList.remove('active');
      //      minutas.classList.remove('inactive');
        //}
        if (!sidebar.contains(event.target ) && !menu.contains(event.target)) {
            if (sidebar.classList.contains('active')) {
                sidebar.classList.remove('active');
        console.log('click en sidebar');

            }
        }
       


    });



    // mostrar iconos segun la categoria
    const pendientes = document.querySelector("#minutas-pendientes");
    const firmadas = document.querySelector("#minutas-firmadas");
    const borradores = document.querySelector("#minutas-borradores");

    document.addEventListener("DOMContentLoaded", function () {
        pendientes.click();
    });
    pendientes.addEventListener("click", function () {
        actualizarIconos(0);
    });
    firmadas.addEventListener("click", function () {
        actualizarIconos(1);
    });
    borradores.addEventListener("click", function () {
        actualizarIconos(2);
    });
//hola Karlaa
    function actualizarIconos(activo){
        document.querySelectorAll(".minuta").forEach(minuta => {
            let icons = minuta.querySelectorAll("a");

            icons.forEach((icon, index) => {
                if (index === activo) {
                    icon.classList.add("active");
                    icon.style.opacity = "1";
                    icon.style.pointerEvents = "auto";
                } else {
                    icon.classList.remove("active");
                    icon.style.opacity = "0";
                    icon.style.pointerEvents = "none";
                }
            });
        });
    }


    document.getElementById("btnfiltros").addEventListener("click", function (e) {
        const filtrar = document.querySelector(".filtrar");
        e.target.classList.toggle("active");
        filtrar.classList.toggle("active");
    });

//asasas



</script>
</body>
</html>