<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outlock Base</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body>
    <header>
        <div id="titulo">
            <button class="menu">
               <img id="imgMenu" src="588a64e0d06f6719692a2d10.png" alt="" srcset="">
            </button> 
            <img src="logotec (weld).png">
            <div> <h1>MINUTAS</h1>
            <p>Luis Carlos Esteban Longares Vidal</p>
            </div>
        </div>
        <div id="seccion">
            <input type="search"  placeholder="">
            <i id="buscar" class="material-icons">search</i>
            <i id="crearDeptoBtn" class="material-icons" >category</i>

        </div>

    </header>
    <div class="content">
        <aside class="sidebar">
            <a id="apartado-minutas" href="index.html">Minutas</a>
                <a id="apartado-empleados" href="Empleados.html">Empleados</a>
                <a id="apartado-departamentos" href="departamento.html">Departamentos</a>
                <a id="apartado-configuracion" href="configuracion.html">Configuracion</a>
                <a id="apartado-perfil" href="perfil.html">Perfil</a>
    </aside>
        <main>
            <div class="modal" id="modalCrearDepto">
                <form>
                    <h3>Crear Departamento</h3>
                    <label>Nombre</label>
                    <input type="text" placeholder="Escribir..."><br>
                    <label>Jefe de Departamento</label>
                    <select>
                        <option>Oscar</option>
                        <option>Oscar</option>
                        <option>Oscar</option>
                        <option>Oscar</option>
                        <option>Oscar</option>
                    </select><br>
                    <label>Departamento Superior</label>
                    <select>
                        <option>Academicos</option>
                        <option>Academicos</option>
                        <option>Academicos</option>
                        <option>Academicos</option>
                    </select><br>
                    <div class="buttons">
                        <input type="button" value="Confirmar">
                        <input type="button" value="Cancelar">
                    </div>  </form>
            </div>
            <!-- <a id="depto" href="DarAltaDepto.html">
                <input class="hover" type="button" value="+">
            </a>-->
            <table id="tablaDepto">
                <thead>
                    <tr>
                        <th>Departamento</th>
                        <th>Jefe</th>
                        <th>Departamento Superior</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    <tr>
                        <td>Sistemas</td>
                        <td>Oscar</td>
                        <td>Planeación</td>
                        <td class="eliminarDep">🗑</td>
                        <td class="editarDep">🖉</td>
                    </tr>
                    
                </tbody>
            </table>
            <!--Eliminar departamento-->
            <div class="modal" id="modalEliminarDepto">
                <form class="botonesForm">
                    <label>¿Desea eliminar este departamento?</label><br>
                    <input type="button" value="Si">
                    <input type="button" value="No">
                </form>
            </div>
            <!--Crear departamento-->
           
            <!--Editar departamento-->
            <div class="modal" id="modalEditarDepto">
                <form>
                    <h3>Editar Departamento</h3>
                    <label>Nombre</label>
                    <input type="text" placeholder="Escribir..."><br>
                    <label>Jefe de Departamento</label>
                    <select>
                        <option>Oscar</option>
                        <option>Oscar</option>
                        <option>Oscar</option>
                        <option>Oscar</option>
                        <option>Oscar</option>
                    </select><br>
                    <label>Departamento Superior</label>
                    <select>
                        <option>Académicos</option>
                        <option>Académicos</option>
                        <option>Académicos</option>
                        <option>Académicos</option>
                    </select><br>
                    <div class="buttons">
                    <input class="hover" type="button" value="Confirmar">
                    <input class="hover" type="button" value="Cancelar">
                </div>
                </form>
            </div>
        </main>
    
    </div>
        <script>
        const menu = document.querySelector('button');
        const sidebar = document.querySelector('.sidebar');
        const header =document.querySelector("header");

        
        // abrir crear depto
        
        document.querySelector("#crearDeptoBtn").addEventListener("click",function(){
           let crearDep = document.querySelector("#modalCrearDepto");
           crearDep.style.display= "block";
        })
        
        document.querySelector("#buscar").addEventListener("click",function (){
            console.log("sdfgh");
            header.classList.toggle("buscar");
        })

        //Sidebar
        menu.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });


        //Filtros
        let lasActiveCategory = null;
        const categorias=document.querySelector('.filtros div');
        categorias.addEventListener('click',(e)=>{
            if(lasActiveCategory){
                lasActiveCategory.classList.remove('active');
            }
            lasActiveCategory=e.target;
            e.target.classList.toggle('active');
        });

        //CambioEnMovilDeminuta
        const minutas=document.querySelector('.minutas-list');
        const minutasContent=document.querySelector('.minuta-content');

        minutas.addEventListener('click',(e)=>{
            if(!e.target.classList.contains('filtros')){
                minutasContent.classList.toggle('active');
                console.log('click en minuta');
                minutas.classList.toggle('inactive');
            }
        });


       

        history.pushState(null, "", location.href);

        window.addEventListener("popstate", function () {
            minutas.classList.toggle('inactive');
        console.log("Intento de salir con botón de retroceso");
        history.pushState(null, "", location.href); // Reagrega el estado para evitar la salida
        });



        document.addEventListener("click", function (event) {
      //      if (!minutasContent.contains(event.target) && !minutas.contains(event.target)) {
        //        minutasContent.classList.remove('active');
          //      minutas.classList.remove('inactive');
            //}
            if (!sidebar.contains(event.target ) && !menu.contains(event.target)) {
                if (sidebar.classList.contains('active')) {
                    sidebar.classList.remove('active');
            console.log('click en sidebar');

                }
            }
        });
    </script>
</body>
</html>